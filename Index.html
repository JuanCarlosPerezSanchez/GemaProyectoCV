<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla inicial con imagen de fondo -->
    <div id="pantalla-inicial">
        <img src="Images/Inicio.png" alt="Fondo Inicial" class="imagen-fondo">
        <!-- Contenedor para los textos centrados -->
        <div id="contenedor-texto">
            <h1 id="texto-principal">Mi nombre es Juan Carlos P√©rez S√°nchez y <br> soy desarrollador web</h1>
            <div id="texto-inicio">Pulsa para empezar</div>
        </div>
    </div>

    <!-- Reproductor de m√∫sica -->
    <audio id="musica-fondo" loop autoplay>
        <source src="Musica/this-minimal-technology_pure-12327.mp3" type="audio/mpeg">
    </audio>

    <!-- Controlador de m√∫sica -->
    <div id="controles-musica">
        <button id="boton-musica">
            <span id="icono-reproducir">‚ñ∂Ô∏è</span>
            <span id="icono-pausar" style="display: none;">‚è∏Ô∏è</span>
        </button>
        <button id="boton-silenciar">
            <span id="icono-sonido">üîä</span>
            <span id="icono-silencio" style="display: none;">üîá</span>
        </button>
        <input type="range" id="control-volumen" min="0" max="1" step="0.01" value="0.1">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pantallaInicial = document.getElementById('pantalla-inicial');
            const musicaFondo = document.getElementById('musica-fondo');
            const botonMusica = document.getElementById('boton-musica');
            const iconoReproducir = document.getElementById('icono-reproducir');
            const iconoPausar = document.getElementById('icono-pausar');
            const botonSilenciar = document.getElementById('boton-silenciar');
            const iconoSonido = document.getElementById('icono-sonido');
            const iconoSilencio = document.getElementById('icono-silencio');
            const controlVolumen = document.getElementById('control-volumen');

            // Establecer el volumen inicial bajo
            musicaFondo.volume = 0.1;

            // Intentar reproducir autom√°ticamente (el navegador lo bloquea asi que no funciona)
            musicaFondo.play().catch(() => {
                console.log("La reproducci√≥n autom√°tica fue bloqueada.");
            });

            // Funci√≥n para actualizar los √≠conos de reproducci√≥n y silencio
            function actualizarIconosMusica() {
                if (musicaFondo.paused) {
                    iconoReproducir.style.display = "inline";
                    iconoPausar.style.display = "none";
                } else {
                    iconoReproducir.style.display = "none";
                    iconoPausar.style.display = "inline";
                }

                if (musicaFondo.muted) {
                    iconoSonido.style.display = "none";
                    iconoSilencio.style.display = "inline";
                } else {
                    iconoSonido.style.display = "inline";
                    iconoSilencio.style.display = "none";
                }
            }

            // Controlar la m√∫sica (pausar/reanudar)
            botonMusica.addEventListener('click', function() {
                if (musicaFondo.paused) {
                    musicaFondo.play();
                } else {
                    musicaFondo.pause();
                }
                actualizarIconosMusica();
            });

            // Controlar el silencio
            botonSilenciar.addEventListener('click', function() {
                musicaFondo.muted = !musicaFondo.muted;
                actualizarIconosMusica();
            });

            // Controlar el volumen
            controlVolumen.addEventListener('input', function() {
                musicaFondo.volume = controlVolumen.value;
                if (musicaFondo.volume === 0) {
                    musicaFondo.muted = true;
                } else {
                    musicaFondo.muted = false;
                }
                actualizarIconosMusica();
            });

            // Redirigir a la pantalla principal al hacer clic en la pantalla inicial
            pantallaInicial.addEventListener('click', function() {
                // Guardar el estado de la m√∫sica en localStorage
                localStorage.setItem('estadoMusica', JSON.stringify({
                    volumen: musicaFondo.volume,
                    silenciado: musicaFondo.muted,
                    pausado: musicaFondo.paused
                }));

                // Redirigir a la pantalla principal (Principal.html)
                window.location.href = "Principal.html";
            });

            // Actualizar los √≠conos al cargar la p√°gina
            actualizarIconosMusica();
        });
    </script>
</body>
</html>