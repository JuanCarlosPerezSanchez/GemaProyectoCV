<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Principal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla principal con imagen mapeada -->
    <div id="contenido-principal">
        <img src="Images/Principal.png" usemap="#mapa-imagen" class="imagen-mapeada">
        
        <!-- Puntos parpadeantes -->
        <div class="superposicion">
            <div class="punto-parpadeante" style="top: 390px; left: 1190px;"></div>
            <div class="punto-parpadeante" style="top: 685px; left: 760px;"></div>
            <div class="punto-parpadeante" style="top: 445px; left: 637px;"></div>
            <div class="punto-parpadeante" style="top: 655px; left: 1030px;"></div>
        </div>

        <!-- Mapeado de √°reas interactivas -->
        <map name="mapa-imagen">
            <area target="_self" alt="PC" title="Educaci√≥n" href="#educacion" coords="1458,123,933,198,931,619,1466,654,1547,639,1547,149" shape="poly">
            <area target="_self" alt="Teclado" title="Habilidades" href="#habilidades" coords="540,692,534,735,623,749,954,698,938,671,868,652" shape="poly">
            <area target="_self" alt="Monitor" title="Sobre m√≠" href="#sobre-mi" coords="355,307,355,611,901,566,901,340" shape="poly">
            <area target="_self" alt="Rat√≥n" title="Contacto" href="#contacto" coords="989,659,1026,645,1059,647,1082,661,1096,682,1063,686,1007,684" shape="poly">
        </map>
    </div>

    <!-- Reproductor de m√∫sica -->
    <audio id="musica-fondo" loop>
        <source src="Musica/this-minimal-technology_pure-12327.mp3" type="audio/mpeg">
    </audio>

    <!-- Controlador de m√∫sica -->
    <div id="controles-musica">
        <button id="boton-musica">
            <span id="icono-reproducir">‚ñ∂Ô∏è</span>
            <span id="icono-pausar" style="display: none;">‚è∏Ô∏è</span>
        </button>
        <button id="boton-silenciar">
            <span id="icono-sonido">üîä</span>
            <span id="icono-silencio" style="display: none;">üîá</span>
        </button>
        <input type="range" id="control-volumen" min="0" max="1" step="0.01" value="0.1">
    </div>

    <!-- Secciones ocultas -->
    <section id="sobre-mi" class="contenedor oculto">
        <h2>Sobre M√≠</h2>
        <p>Me considero una persona amable y educada, a la que le apasiona aprender, sobre todo me encanta el mundo de la inform√°tica y la electr√≥nica, en ese orden. <br> Tambi√©n soy un gran amante del deporte.</p>
        <h2>M√°s Informaci√≥n</h2>
        <p>- Disponibilidad total. <br> - Carn√© de conducir.</p>
        <button onclick="ocultarSeccion('sobre-mi')">Cerrar</button>
    </section>

    <section id="educacion" class="contenedor oculto">
        <h2>Datos acad√©micos</h2>
        <ul>
            <h2>Ense√±anza obligatoria:</h2><br>
            <li>CEIP SANTA CLARA | C. Fray Marcos de Niza, 0, 41007 Sevilla. | 2007-2015</li>
            <li>IES JOAQU√çN TURINA | Donante de √ìrganos, 2, 41007 Sevilla. | 2015-2019</li><br>
            <h2>Ense√±anza no obligatoria:</h2><br>
            <li>Grado medio de Telecomunicaciones: Instituto Tecnol√≥gico Superior ADA ITS | Av. Turia, 11, 41019 Sevilla. | 2019-2023</li>
            <li>Grado Superior de Desarrollo de Aplicaciones Web (DAW): Instituto Tecnol√≥gico Superior ADA ITS | Av. Turia, 11, 41019 Sevilla. | 2023-2025</li>
        </ul>
        <button onclick="ocultarSeccion('educacion')">Cerrar</button>
    </section>

    <section id="habilidades" class="contenedor oculto">
        <h2>Habilidades</h2>
        <ul>
            <li>Buena comunicaci√≥n - Lo que me convierte en el compa√±ero ideal para cualquier equipo.</li>
            <li>Empat√≠a - Algo imprescindible para las interacciones sociales diarias.</li>
            <li>Trabajo en equipo - Perfecto para el trabajo y bastante √∫til para el d√≠a a d√≠a.</li>
            <li>Responsabilidad - Sin duda algo imprescindible tanto en lo laboral como en lo personal.</li>
            <li>Toma de decisiones - Algo casualmente complejo pero necesario en muchas situaciones.</li>
        </ul>
        <button onclick="ocultarSeccion('habilidades')">Cerrar</button>
    </section>

    <section id="contacto" class="contenedor oculto">
        <h2>Contacto</h2>
        <p>Tel√©fono: 611 607 940</p>
        <p>Email: jcpersan47@gmail.com</p>
        <p>Ubicaci√≥n: Av. Altamira 29, bloque 1, 8¬∞D, Sevilla</p>
        <button onclick="ocultarSeccion('contacto')">Cerrar</button>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const musicaFondo = document.getElementById('musica-fondo');
            const botonMusica = document.getElementById('boton-musica');
            const iconoReproducir = document.getElementById('icono-reproducir');
            const iconoPausar = document.getElementById('icono-pausar');
            const botonSilenciar = document.getElementById('boton-silenciar');
            const iconoSonido = document.getElementById('icono-sonido');
            const iconoSilencio = document.getElementById('icono-silencio');
            const controlVolumen = document.getElementById('control-volumen');

            // Recuperar el estado de la m√∫sica desde localStorage
            const estadoMusicaGuardado = localStorage.getItem('estadoMusica');
            if (estadoMusicaGuardado) {
                const { volumen, silenciado, pausado } = JSON.parse(estadoMusicaGuardado);
                musicaFondo.volume = volumen;
                musicaFondo.muted = silenciado;
                if (!pausado) {
                    musicaFondo.play().catch(() => {
                        console.log("La reproducci√≥n autom√°tica fue bloqueada.");
                    });
                }
                controlVolumen.value = volumen;
            }

            // Funci√≥n para actualizar los √≠conos de reproducci√≥n y silencio
            function actualizarIconosMusica() {
                if (musicaFondo.paused) {
                    iconoReproducir.style.display = "inline";
                    iconoPausar.style.display = "none";
                } else {
                    iconoReproducir.style.display = "none";
                    iconoPausar.style.display = "inline";
                }

                if (musicaFondo.muted) {
                    iconoSonido.style.display = "none";
                    iconoSilencio.style.display = "inline";
                } else {
                    iconoSonido.style.display = "inline";
                    iconoSilencio.style.display = "none";
                }
            }

            // Controlar la m√∫sica (pausar/reanudar)
            botonMusica.addEventListener('click', function() {
                if (musicaFondo.paused) {
                    musicaFondo.play();
                } else {
                    musicaFondo.pause();
                }
                actualizarIconosMusica();
            });

            // Controlar el mutear
            botonSilenciar.addEventListener('click', function() {
                musicaFondo.muted = !musicaFondo.muted;
                actualizarIconosMusica();
            });

            // Controlar el volumen
            controlVolumen.addEventListener('input', function() {
                musicaFondo.volume = controlVolumen.value;
                if (musicaFondo.volume === 0) {
                    musicaFondo.muted = true;
                } else {
                    musicaFondo.muted = false;
                }
                actualizarIconosMusica();
            });

            // Actualizar los √≠conos al cargar la p√°gina
            actualizarIconosMusica();

            // Manejar clics en las √°reas mapeadas
            const areas = document.querySelectorAll('area');
            areas.forEach(area => {
                area.addEventListener('click', function(event) {
                    event.preventDefault();

                    // Ocultar todas las secciones
                    document.querySelectorAll('.contenedor').forEach(seccion => {
                        seccion.classList.add('oculto');
                    });

                    // Mostrar la secci√≥n correspondiente
                    const idSeccion = area.getAttribute('href').substring(1);
                    const seccion = document.getElementById(idSeccion);
                    if (seccion) {
                        seccion.classList.remove('oculto');
                    }
                });
            });
        });

        // Funci√≥n para ocultar secciones
        function ocultarSeccion(idSeccion) {
            const seccion = document.getElementById(idSeccion);
            if (seccion) {
                seccion.classList.add('oculto');
            }
        }
    </script>
</body>
</html>